{"version":3,"sources":["_main.js"],"names":[],"mappings":"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","file":"scripts.js","sourcesContent":["$(function() {\n  var socket = io.connect();\n\n  var old_color = -1;\n  var old_old_color = -1;\n\n  var mute = false;\n\n  setInterval(function() {\n    updateTime();\n  }, 10000);\n\n//  dev: press 'a' to simulate a yo\n  $(document).on('keyup', function (e) {\n    if(e.which === 65) {\n      playYoSound();\n      addYo(Math.random().toString(36).substring(7));\n    }\n  });\n\n  $('#mute').on('click', function(e) {\n    mute = !mute;\n    var $icon = $(this).find('i');\n    if(mute) {\n      $icon.removeClass('fa-volume-up').addClass('fa-volume-off');\n    } else {\n      $icon.removeClass('fa-volume-off').addClass('fa-volume-up');\n    }\n  });\n\n//  $('#fullscreen').on('click', function() {\n//    if(BigScreen.enabled) {\n//      BigScreen.toggle();\n//    } else {\n//      alert('Sorry, only for decent browsers.');\n//    }\n//  });\n\n  socket.on('yo', function (data) {\n    playYoSound();\n    addYo(data.username);\n  });\n\n  function addYo(username) {\n    var color = generateColorNumber();\n\n    while(color === old_color || color === old_old_color) {\n      color = generateColorNumber();\n    }\n\n    var $small = $(\"<small/>\").attr('data-timestamp', moment().unix()).html(moment().fromNow());\n    var $span = $(\"<span/>\").html(username);\n    var $elmt = $('<li/>').addClass('color_' + color).addClass('new').append($span).append(\" \").append($small);\n    $(\"#yo_list\").prepend($elmt);\n\n    setTimeout(function() {\n      $elmt.removeClass('new');\n    }, 100);\n\n    old_old_color = old_color;\n    old_color = color;\n  }\n\n  function updateTime() {\n    $(\"#yo_list\").find(\"li small\").each(function() {\n      var timestamp = $(this).attr('data-timestamp');\n      var ago = moment.unix(parseInt(timestamp)).fromNow();\n      if($(this).html() !== ago) {\n        $(this).html(ago);\n      }\n    });\n  }\n\n  function playYoSound() {\n    if(!mute) {\n      var yosound = new Audio('assets/mp3/yo.mp3');\n      yosound.play();\n    }\n  }\n\n  function generateColorNumber() {\n    return parseInt(Math.random() * 7);\n  }\n});"]}